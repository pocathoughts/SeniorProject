<?php

//--------------------------------------Permission Check --------------------------------------------
function CreateJoinClubRequestPermissionCheck ($data, &$returnData){
  //null, nothing to do here
}

function RespondJoinClubRequestPermissionCheck ($data, &$returnData){
}

function DeleteJoinClubRequestPermissionCheck ($data, &$returnData){
}

function GetJoinClubRequestByEmailPermissionCheck ($data, &$returnData){
}

function GetJoinClubRequestByClubPermissionCheck ($data, &$returnData){
}

//--------------------------------------Validation Methods -----------------------------------------
function CreateJoinClubRequestValidate ($data, &$returnData){
  //TODO validate data (inject club_year_id)
  if ( strtolower($data['position']) == 'president'){
    $data['president_bool'] = 0;
  } else {
    $data['president_bool'] = 1;
  }
  //TODO check account doesnt already have a position for that year/club
  //TODO check account doesnt already have a pending request for that year/club
  
}

function RespondJoinClubRequestValidate ($data, &$returnData){
}

function DeleteJoinClubRequestValidate ($data, &$returnData){
}

function GetJoinClubRequestByEmailValidate ($data, &$returnData){
}

function GetJoinClubRequestByClubValidate ($data, &$returnData){
}

//---------------------------------------Calling Function --------------------------------------------
function CreateJoinClubRequest ($link, $data, &$returnData){
  CreateJoinClubRequestPermissionCheck($data, $returnData);
  CreateJoinClubRequestValidate($data, $returnData);
  //add request to the table
  $insertion = "INSERT INTO club_position_request (account_id, club_year_id, position_name, president_bool) VALUES ('" . $data['account_id'] . "', '" . $data['club_year_id'] . "', '" . strtolower($data['position']) . "', '" . $data['president_bool'] . "')";
  echo $insertion;
}

function RespondJoinClubRequest ($link, $data, &$returnData){
  RespondJoinClubRequestPermissionCheck($data, $returnData);
  RespondJoinClubRequestValidate($data, $returnData);
}

function DeleteJoinClubRequest ($link, $data, &$returnData){
  DeleteJoinClubRequestPermissionCheck($data, $returnData);
  DeleteJoinClubRequestValidate($data, $returnData);
}

function GetJoinClubRequestByEmail ($link, $data, &$returnData){
  GetJoinClubRequestByEmailPermissionCheck($data, $returnData);
  GetJoinClubRequestByEmailValidate($data, $returnData);
}

function GetJoinClubRequestByClub ($link, $data, &$returnData){
  GetJoinClubRequestByClubPermissionCheck($data, $returnData);
  GetJoinClubRequestByClubValidate($data, $returnData);
}
?>
